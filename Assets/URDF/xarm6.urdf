<?xml version="1.0" encoding="utf-8"?>
<robot name="xarm6">
  <material name="White">
    <color rgba="1 1 1 1" />
  </material>
  <material name="Silver">
    <color rgba="0.753 0.753 0.753 1" />
  </material>
  <link name="world" />
  <link name="link_base">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="2.7000000477" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/base.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/base.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="2.1600000858" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link1.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/link1.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link2">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="1.7100000381" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link2.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/link2.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="1.3839999437" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link3.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/link3.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="1.1150000095" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link4.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/link4.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link5">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="1.2749999762" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link5.stl" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/link5.stl" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.1096000001" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/link6.stl" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/end_tool.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link_eef" />
  <link name="xarm_gripper_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.5415599942" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/base_link.STL" scale="1 1 1" />
      </geometry>
      <material name="White">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/base_link_collision.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="link_tcp" />
  <link name="right_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.0230129994" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/right_inner_knuckle.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/right_inner_knuckle.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="right_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.0336179994" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/right_outer_knuckle.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/right_outer_knuckle.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="right_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.048303999" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/right_finger.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/right_finger.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="left_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.0230125785" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/left_inner_knuckle.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/left_inner_knuckle.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="left_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.0336179994" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/left_outer_knuckle.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/left_outer_knuckle.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <link name="left_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0" />
      <mass value="0.048303999" />
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://meshes/left_finger.STL" scale="1 1 1" />
      </geometry>
      <material name="Silver">
        <color rgba="0.753 0.753 0.753 1" />
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/left_finger.STL" scale="1 1 1" />
      </geometry>
    </collision>
  </link>
  <joint name="world_joint" type="fixed">
    <parent link="world" />
    <child link="link_base" />
  </joint>
  <joint name="joint1" type="revolute">
    <origin xyz="0 0 0.267" />
    <parent link="link_base" />
    <child link="link1" />
    <dynamics damping="1" friction="1" />
    <limit lower="-6.28318525850773" upper="6.28318525850773" effort="50" velocity="0" />
  </joint>
  <joint name="joint2" type="revolute">
    <origin rpy="-1.5708 0 0" />
    <parent link="link1" />
    <child link="link2" />
    <dynamics damping="1" friction="1" />
    <limit lower="-2.05899994450157" upper="2.09440001301722" effort="50" velocity="0" />
  </joint>
  <joint name="joint3" type="revolute">
    <origin xyz="0.0535 -0.2845 0" />
    <parent link="link2" />
    <child link="link3" />
    <dynamics damping="1" friction="1" />
    <limit lower="-3.92700010763107" upper="0.191980007737937" effort="32" velocity="0" />
  </joint>
  <joint name="joint4" type="revolute">
    <origin rpy="-1.5708 0 0" xyz="0.0775 0.3425 0" />
    <parent link="link3" />
    <child link="link4" />
    <dynamics damping="1" friction="1" />
    <limit lower="-6.28318525850773" upper="6.28318525850773" effort="32" velocity="0" />
  </joint>
  <joint name="joint5" type="revolute">
    <origin rpy="-4.712385 0 0" />
    <parent link="link4" />
    <child link="link5" />
    <dynamics damping="1" friction="1" />
    <limit lower="-1.69297002711041" upper="3.14159262925386" effort="32" velocity="0" />
  </joint>
  <joint name="joint6" type="revolute">
    <origin rpy="-1.5708 0 0" xyz="0.076 0.097 0" />
    <parent link="link5" />
    <child link="link6" />
    <dynamics damping="1" friction="1" />
    <limit lower="-6.28318525850773" upper="6.28318525850773" effort="20" velocity="0" />
  </joint>
  <joint name="joint_eef" type="fixed">
    <parent link="link6" />
    <child link="link_eef" />
  </joint>
  <joint name="gripper_fix" type="fixed">
    <parent link="link_eef" />
    <child link="xarm_gripper_base_link" />
  </joint>
  <joint name="joint_tcp" type="fixed">
    <origin xyz="0 0 0.172" />
    <parent link="xarm_gripper_base_link" />
    <child link="link_tcp" />
  </joint>
  <joint name="right_inner_knuckle_joint" type="revolute">
    <origin xyz="0 -0.02 0.074098" />
    <parent link="xarm_gripper_base_link" />
    <child link="right_inner_knuckle" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <joint name="right_outer_knuckle_joint" type="revolute">
    <origin xyz="0 -0.035 0.059098" />
    <parent link="xarm_gripper_base_link" />
    <child link="right_outer_knuckle" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <joint name="right_finger_joint" type="revolute">
    <origin xyz="0 -0.035465 0.042039" />
    <parent link="right_outer_knuckle" />
    <child link="right_finger" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <joint name="left_inner_knuckle_joint" type="revolute">
    <origin xyz="0 0.02 0.074098" />
    <parent link="xarm_gripper_base_link" />
    <child link="left_inner_knuckle" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <joint name="drive_joint" type="revolute">
    <origin xyz="0 0.035 0.059098" />
    <parent link="xarm_gripper_base_link" />
    <child link="left_outer_knuckle" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <joint name="left_finger_joint" type="revolute">
    <origin xyz="0 0.035465 0.042039" />
    <parent link="left_outer_knuckle" />
    <child link="left_finger" />
    <limit lower="0" upper="0.849999986692715" effort="50" velocity="0" />
  </joint>
  <gazebo>
  <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
    <robotNamespace>/xarm</robotNamespace>
    <!-- <controlPeriod>0.0001</controlPeriod> -->
    <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    <legacyModeNS>true</legacyModeNS>
    <!-- <preserveWorldVelocity>true</preserveWorldVelocity> -->
  </plugin>
</gazebo>
<transmission name="tran1">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint1">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor1">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<transmission name="tran2">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint2">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor2">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<transmission name="tran3">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint3">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor3">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<transmission name="tran4">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint4">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor3">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<transmission name="tran5">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint5">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor5">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<transmission name="tran6">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="joint6">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor6">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>100</mechanicalReduction>
  </actuator>
</transmission>
<gazebo reference="link_base">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link1">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link2">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link3">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link4">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link5">
  <selfCollide>true</selfCollide>
</gazebo>
<gazebo reference="link6">
  <selfCollide>true</selfCollide>
</gazebo>
<transmission name="drive_joint_trans">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="drive_joint">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="drive_joint_motor">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>1</mechanicalReduction>
  </actuator>
</transmission>
<gazebo reference="xarm_gripper_base_link">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="left_outer_knuckle">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="left_finger">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="left_inner_knuckle">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="right_outer_knuckle">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="right_finger">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo reference="right_inner_knuckle">
  <selfCollide>false</selfCollide>
</gazebo>
<gazebo>
  <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
    <arm>
      <arm_name>xarm_gripper</arm_name>
      <palm_link>link6</palm_link>
      <gripper_link>left_inner_knuckle</gripper_link>
      <gripper_link>right_inner_knuckle</gripper_link>
      <!-- <gripper_link>${prefix}left_outer_knuckle</gripper_link>
          <gripper_link>${prefix}right_outer_knuckle</gripper_link> -->
      <gripper_link>left_finger</gripper_link>
      <gripper_link>right_finger</gripper_link>
    </arm>
    <forces_angle_tolerance>100</forces_angle_tolerance>
    <update_rate>10</update_rate>
    <grip_count_threshold>2</grip_count_threshold>
    <max_grip_count>3</max_grip_count>
    <release_tolerance>0.0198</release_tolerance>
    <disable_collisions_on_attach>false</disable_collisions_on_attach>
    <contact_topic>__default_topic__</contact_topic>
  </plugin>
</gazebo>
<gazebo>
  <!-- old version -->
  <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="left_finger_jointmimic_joint_plugin">
    <!-- new version -->
    <!-- <plugin name="${name_prefix}mimic_joint_plugin" filename="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so"> -->
    <joint>drive_joint</joint>
    <mimicJoint>left_finger_joint</mimicJoint>
    <multiplier>1.0</multiplier>
    <offset>0</offset>
    <sensitiveness>0.0</sensitiveness>
    <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
    <maxEffort>10.0</maxEffort>
  </plugin>
</gazebo>
<gazebo>
  <!-- old version -->
  <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="left_inner_knuckle_jointmimic_joint_plugin">
    <!-- new version -->
    <!-- <plugin name="${name_prefix}mimic_joint_plugin" filename="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so"> -->
    <joint>drive_joint</joint>
    <mimicJoint>left_inner_knuckle_joint</mimicJoint>
    <multiplier>1.0</multiplier>
    <offset>0</offset>
    <sensitiveness>0.0</sensitiveness>
    <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
    <maxEffort>10.0</maxEffort>
  </plugin>
</gazebo>
<gazebo>
  <!-- old version -->
  <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="right_outer_knuckle_jointmimic_joint_plugin">
    <!-- new version -->
    <!-- <plugin name="${name_prefix}mimic_joint_plugin" filename="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so"> -->
    <joint>drive_joint</joint>
    <mimicJoint>right_outer_knuckle_joint</mimicJoint>
    <multiplier>1.0</multiplier>
    <offset>0</offset>
    <sensitiveness>0.0</sensitiveness>
    <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
    <maxEffort>10.0</maxEffort>
  </plugin>
</gazebo>
<gazebo>
  <!-- old version -->
  <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="right_finger_jointmimic_joint_plugin">
    <!-- new version -->
    <!-- <plugin name="${name_prefix}mimic_joint_plugin" filename="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so"> -->
    <joint>drive_joint</joint>
    <mimicJoint>right_finger_joint</mimicJoint>
    <multiplier>1.0</multiplier>
    <offset>0</offset>
    <sensitiveness>0.0</sensitiveness>
    <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
    <maxEffort>10.0</maxEffort>
  </plugin>
</gazebo>
<gazebo>
  <!-- old version -->
  <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="right_inner_knuckle_jointmimic_joint_plugin">
    <!-- new version -->
    <!-- <plugin name="${name_prefix}mimic_joint_plugin" filename="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so"> -->
    <joint>drive_joint</joint>
    <mimicJoint>right_inner_knuckle_joint</mimicJoint>
    <multiplier>1.0</multiplier>
    <offset>0</offset>
    <sensitiveness>0.0</sensitiveness>
    <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
    <maxEffort>10.0</maxEffort>
  </plugin>
</gazebo>
</robot>